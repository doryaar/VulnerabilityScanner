export class Requester {

  constructor(private session: any) {}

  async request(link: string, method: string = 'GET', data?: any) {
    const get = method === 'GET' ? true : false;
    try {
      if (get)
        return await this.session.get({ url: link, qs: data, json: true });
      else
        return await this.session.post({ url: link, form: data, simple: false, followAllRedirects: true, resolveWithFullResponse: true });
    } catch (error: any) {
      if (error.statusCode < 400) console.log(error);
      else return '';
    }
  }
}
